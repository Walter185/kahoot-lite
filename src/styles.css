:root{
  --bg:#0f172a;
  --card:#111827;
  --muted:#94a3b8;
  --accent:#22c55e;
  --error:#ef4444;
  --btn:#2563eb;
}

/* Reset & base */
*{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
html,body,#root{ height:100%; }
body{
  margin:0;
  background:linear-gradient(180deg,#0b1220,#0f172a);
  color:#e5e7eb;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,'Open Sans','Helvetica Neue',sans-serif;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}
a{ color:#93c5fd; text-decoration:none; }
.container{ max-width:980px; margin:0 auto; padding:16px; }

/* Layout & cards */
.grid{ display:grid; gap:12px; }
.card{ background:rgba(17,24,39,0.88); border:1px solid rgba(148,163,184,0.2); border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,0.35); }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
h1,h2,h3{ margin:0 0 10px 0; }
.small{ font-size:.9rem; color:var(--muted); }

/* Inputs */
.input, .select{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(148,163,184,0.3);
  background:#0b1220;
  color:#e5e7eb;
}

/* Buttons (mobile-first) */
.card, .option, .btn{ user-select:none; }
.btn{
  background:var(--btn);
  color:#fff;
  border:none;
  padding:12px 18px;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
  width:100%;
  min-height:48px;
}
.btn.secondary{ background:#334155; }
.btn.danger{ background:var(--error); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }

/* Question options */
.option{
  border:1px solid rgba(148,163,184,0.3);
  border-radius:14px;
  padding:14px;
  cursor:pointer;
  min-height:60px;
  display:flex;
  align-items:center;
  font-size:1rem;
}
.option.selected{ outline:2px solid var(--accent); background:rgba(34,197,94,0.12); }
.option.correct{ outline:2px solid var(--accent); background:rgba(34,197,94,0.22); }
.option.wrong{ outline:2px solid var(--error); background:rgba(239,68,68,0.15); }

/* Badges & leaderboard */
.badge{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  background:#1f2937;
  border:1px solid rgba(148,163,184,0.25);
  font-size:.85rem;
  color:#cbd5e1;
}
.leaderboard{ width:100%; border-collapse:collapse; font-size:0.95rem; }
.leaderboard th,.leaderboard td{
  border-bottom:1px dashed rgba(148,163,184,0.25);
  padding:8px 6px; text-align:left;
}

/* Celebration overlay (confeti + fallback de serpentinas) */
.cele-overlay{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  pointer-events:none; z-index:9999; background:rgba(0,0,0,.25);
}
.cele-card{
  background:rgba(17,24,39,.95);
  border:1px solid rgba(148,163,184,.35);
  padding:20px 28px;
  border-radius:18px;
  text-align:center;
  box-shadow:0 12px 40px rgba(0,0,0,.5);
}
.cele-emoji{ font-size:2.2rem; margin-bottom:6px; }
.cele-name{ font-size:1.6rem; font-weight:800; letter-spacing:.3px; }
.cele-sub{ color:#93c5fd; margin-top:4px; font-weight:600; }

/* Fallback serpentinas (si no carga canvas-confetti) */
.serp{
  position:fixed; top:-10vh; width:6px; height:24px; border-radius:4px;
  background:linear-gradient(180deg,#f59e0b,#ef4444,#22c55e,#3b82f6);
  animation: drop 1.8s linear infinite;
  opacity:.85; filter:saturate(1.2);
}
@keyframes drop{
  0%{ transform:translateY(-10vh) rotate(0deg); }
  100%{ transform:translateY(110vh) rotate(540deg); }
}
.s1{ left:10%; animation-delay:0s }
.s2{ left:25%; animation-delay:.15s }
.s3{ left:40%; animation-delay:.3s }
.s4{ left:60%; animation-delay:.45s }
.s5{ left:75%; animation-delay:.6s }
.s6{ left:90%; animation-delay:.75s }

/* Responsive */
@media (max-width: 768px){
  .container{ max-width:100%; padding:12px; }
  .card{ padding:14px; border-radius:14px; }
  h1{ font-size:1.35rem; }
  h2{ font-size:1.1rem; }
}
@media (min-width: 768px){
  .grid.two{ grid-template-columns:1fr 1fr; }
}
@media (max-width: 480px){
  .grid.two { grid-template-columns: 1fr !important; }
  h1{ font-size: 1.25rem; }
  h2{ font-size: 1.05rem; }
}
@media (min-width: 480px){
  .btn{ width:auto; }
}
@media (pointer: coarse){
  .option { min-height: 64px; font-size: 1.05rem; }
  .badge { padding: 8px 12px; }
}

/* ===== Countdown emocionante ===== */
.badge.cd { font-variant-numeric: tabular-nums; }

/* Verde / Amarillo / Rojo */
.cd-green  { background: rgba(34,197,94,.15);  border-color: rgba(34,197,94,.45);  color:#86efac; }
.cd-yellow { background: rgba(250,204,21,.15); border-color: rgba(250,204,21,.45); color:#fde68a; }
.cd-red    { background: rgba(239,68,68,.18);  border-color: rgba(239,68,68,.55); color:#fecaca; }

/* Animaciones */
.cd-pulse { animation: cdPulse 1s ease-in-out infinite; }
.cd-blink { animation: cdBlink .75s steps(2, jump-none) infinite; }

@keyframes cdPulse {
  0% { transform: scale(1); }
  50%{ transform: scale(1.06); }
  100%{ transform: scale(1); }
}
@keyframes cdBlink {
  0%, 100% { opacity: 1; }
  50%      { opacity: .35; }
}
